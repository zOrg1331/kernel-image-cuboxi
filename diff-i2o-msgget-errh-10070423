--- ./drivers/message/i2o/i2o_block.c.msglk2	2007-03-28 12:53:32.000000000 +0400
+++ ./drivers/message/i2o/i2o_block.c	2007-04-23 14:04:35.000000000 +0400
@@ -215,7 +215,7 @@ static int i2o_block_device_lock(struct 
 	struct i2o_message *msg;
 
 	msg = i2o_msg_get_wait(dev->iop, I2O_TIMEOUT_MESSAGE_GET);
-	if (IS_ERR(msg) == I2O_QUEUE_EMPTY)
+	if (IS_ERR(msg))
 		return PTR_ERR(msg);
 
 	msg->u.head[0] = cpu_to_le32(FIVE_WORD_MSG_SIZE | SGL_OFFSET_0);
