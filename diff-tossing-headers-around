--- a/include/linux/if_tun.h	2008-07-02 16:26:54.000000000 +0400
+++ b/include/linux/if_tun.h	2008-07-02 16:23:52.000000000 +0400
@@ -18,14 +18,13 @@
 #ifndef __IF_TUN_H
 #define __IF_TUN_H
 
-#include <linux/skbuff.h>
-#include <linux/if_ether.h>
-#include <linux/netdevice.h>
-
 /* Uncomment to enable debugging */
 /* #define TUN_DEBUG 1 */
 
 #ifdef __KERNEL__
+#include <linux/skbuff.h>
+#include <linux/if_ether.h>
+#include <linux/netdevice.h>
 
 #ifdef TUN_DEBUG
 #define DBG  if(tun->debug)printk
--- a/include/linux/ipc.h	2008-07-02 16:26:54.000000000 +0400
+++ b/include/linux/ipc.h	2008-07-02 16:24:46.000000000 +0400
@@ -2,7 +2,6 @@
 #define _LINUX_IPC_H
 
 #include <linux/types.h>
-#include <linux/kref.h>
 
 #define IPC_PRIVATE ((__kernel_key_t) 0)  
 
@@ -51,6 +50,7 @@ struct ipc_perm
 			   message sizes, etc. */
 
 #ifdef __KERNEL__
+#include <linux/kref.h>
 
 #define IPCMNI 32768  /* <= MAX_INT limit for ipc arrays (including sysctl changes) */
 
--- a/include/linux/Kbuild	2008-07-02 16:26:54.000000000 +0400
+++ b/include/linux/Kbuild	2008-07-02 16:24:01.000000000 +0400
@@ -226,8 +226,10 @@ unifdef-y += hiddev.h
 unifdef-y += hpet.h
 unifdef-y += i2c.h
 unifdef-y += i2o-dev.h
+unifdef-y += icmp.h
 unifdef-y += icmpv6.h
 unifdef-y += if_addr.h 
+unifdef-y += if_arp.h 
 unifdef-y += if_bridge.h
 unifdef-y += if_ec.h
 unifdef-y += if_eql.h
@@ -245,6 +247,7 @@ unifdef-y += inet_diag.h
 unifdef-y += in.h
 unifdef-y += inotify.h
 unifdef-y += input.h
+unifdef-y += ip.h
 unifdef-y += ipc.h
 unifdef-y += ipmi.h
 unifdef-y += ipv6.h
@@ -343,6 +346,7 @@ unifdef-y += unistd.h
 unifdef-y += usb_ch9.h
 unifdef-y += usbdevice_fs.h
 unifdef-y += user.h
+unifdef-y += utsname.h
 unifdef-y += videodev2.h
 unifdef-y += videodev.h
 unifdef-y += wait.h
--- a/include/linux/utsname.h	2008-07-02 16:26:54.000000000 +0400
+++ b/include/linux/utsname.h	2008-07-02 16:22:57.000000000 +0400
@@ -1,11 +1,6 @@
 #ifndef _LINUX_UTSNAME_H
 #define _LINUX_UTSNAME_H
 
-#include <linux/sched.h>
-#include <linux/kref.h>
-#include <linux/nsproxy.h>
-#include <asm/atomic.h>
-
 #define __OLD_UTS_LEN 8
 
 struct oldold_utsname {
@@ -36,8 +31,10 @@ struct new_utsname {
 };
 
 #ifdef __KERNEL__
-
+#include <linux/sched.h>
 #include <linux/kref.h>
+#include <linux/nsproxy.h>
+#include <asm/atomic.h>
 
 struct uts_namespace {
 	struct kref kref;
