From: Rob Evers <revers@redhat.com>
Date: Thu, 28 May 2009 11:50:37 -0400
Subject: [scsi] mvsas: correct bit-map implementation
Message-id: 20090528154701.16475.10647.sendpatchset@localhost.localdomain
O-Subject: [RHEL5.4 PATCH 2/5 V5] Correct bit-map implementation
Bugzilla: 485126

https://bugzilla.redhat.com/show_bug.cgi?id=485126

diff --git a/drivers/scsi/mvsas.c b/drivers/scsi/mvsas.c
index 33a9fc0..907a611 100644
--- a/drivers/scsi/mvsas.c
+++ b/drivers/scsi/mvsas.c
@@ -42,7 +42,7 @@
 #include <asm/io.h>
 
 #define DRV_NAME	"mvsas"
-#define DRV_VERSION	"0.5.2"
+#define DRV_VERSION	"0.5.3"
 
 #define mr32(reg)	readl(regs + MVS_##reg)
 #define mw32(reg,val)	writel((val), regs + MVS_##reg)
@@ -650,7 +650,7 @@ struct mvs_info {
 
 	const struct mvs_chip_info *chip;
 
-	u8			tags[MVS_SLOTS];
+	u32			tags[MVS_SLOTS/32];
 	struct mvs_slot_info	slot_info[MVS_SLOTS];
 				/* further per-slot information */
 	struct mvs_phy		phy[MVS_MAX_PHYS];
